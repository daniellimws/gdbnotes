<!doctype html><html lang=en><head><title>Inspecting :: GDB Notes</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="c basic2.c    // gcc -g basic.c -o basic -no-pie #include &amp;lt;stdio.h&amp;gt; typedef struct my_struct { char a; short b; int c; double d; char e[20]; long long f; } my_struct; int main() { my_struct m = { .a = &amp;#39;6&amp;#39;, .b = 56, .c = 1337, .d = 3.1415, .e = {&amp;#39;h&amp;#39;, &amp;#39;e&amp;#39;, &amp;#39;l&amp;#39;, &amp;#39;l&amp;#39;, &amp;#39;o&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;f&amp;#39;, &amp;#39;r&amp;#39;, &amp;#39;i&amp;#39;, &amp;#39;e&amp;#39;, &amp;#39;n&amp;#39;, &amp;#39;d&amp;#39;, &amp;#39;\0&amp;#39;}, .f = 0x1337133713371337 }; printf(&amp;#34;%p\n&amp;#34;, &amp;amp;m); return 0; }   In this example, we set a breakpoint at the instruction after the printf call, and inspect the memory contents of m."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/notes/basics/inspecting/><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/assets/blue.css><link rel=apple-touch-icon href=/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=/img/favicon/blue.png><meta name=twitter:card content="summary"><meta name=twitter:site content><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Inspecting"><meta property="og:description" content="c basic2.c    // gcc -g basic.c -o basic -no-pie #include &amp;lt;stdio.h&amp;gt; typedef struct my_struct { char a; short b; int c; double d; char e[20]; long long f; } my_struct; int main() { my_struct m = { .a = &amp;#39;6&amp;#39;, .b = 56, .c = 1337, .d = 3.1415, .e = {&amp;#39;h&amp;#39;, &amp;#39;e&amp;#39;, &amp;#39;l&amp;#39;, &amp;#39;l&amp;#39;, &amp;#39;o&amp;#39;, &amp;#39; &amp;#39;, &amp;#39;f&amp;#39;, &amp;#39;r&amp;#39;, &amp;#39;i&amp;#39;, &amp;#39;e&amp;#39;, &amp;#39;n&amp;#39;, &amp;#39;d&amp;#39;, &amp;#39;\0&amp;#39;}, .f = 0x1337133713371337 }; printf(&amp;#34;%p\n&amp;#34;, &amp;amp;m); return 0; }   In this example, we set a breakpoint at the instruction after the printf call, and inspect the memory contents of m."><meta property="og:url" content="/notes/basics/inspecting/"><meta property="og:site_name" content="GDB Notes"><meta property="og:image" content="/img/favicon/blue.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:section" content="Basics"><meta property="article:published_time" content="2020-05-07 00:00:00 +0000 UTC"></head><body class=blue><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>GDB Notes</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about>About</a></li><li><a href=/showcase>Showcase</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about>About</a></li><li><a href=/showcase>Showcase</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=/notes/basics/inspecting/>Inspecting</a></h1><div class=post-meta><span class=post-date>2020-05-07</span></div><span class=post-tags>#<a href=/tags/basics/>basics</a>&nbsp;</span><div class=post-content><div><div class=collapsable-code><input id=1 type=checkbox>
<label for=1><span class=collapsable-code__language>c</span>
<span class=collapsable-code__title>basic2.c</span>
<span class=collapsable-code__toggle data-label-expand=Show data-label-collapse=Hide></span></label><pre class=language-c><code>
// gcc -g basic.c -o basic -no-pie
#include &lt;stdio.h&gt;

typedef struct my_struct {
    char a;
    short b;
    int c;
    double d;
    char e[20];
    long long f;
} my_struct;

int main()
{
    my_struct m = {
        .a = &#39;6&#39;,
        .b = 56,
        .c = 1337,
        .d = 3.1415,
        .e = {&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39; &#39;, &#39;f&#39;, &#39;r&#39;, &#39;i&#39;, &#39;e&#39;, &#39;n&#39;, &#39;d&#39;, &#39;\0&#39;},
        .f = 0x1337133713371337
    };

    printf(&#34;%p\n&#34;, &amp;m);
    return 0;
}
</code></pre></div><p>In this example, we set a breakpoint at the instruction after the <code>printf</code> call, and inspect the memory contents of <code>m</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> disas main
Dump of assembler code <span style=color:#66d9ef>for</span> <span style=color:#66d9ef>function</span> main:
...
   0x00000000004005fb &lt;+164&gt;:	lea    rdi,<span style=color:#f92672>[</span>rip+0xb6<span style=color:#f92672>]</span>        <span style=color:#75715e># 0x4006b8</span>
   0x0000000000400602 &lt;+171&gt;:	mov    eax,0x0
   0x0000000000400607 &lt;+176&gt;:	call   0x400460 &lt;printf@plt&gt;
   0x000000000040060c &lt;+181&gt;:	mov    eax,0x0               <span style=color:#75715e># break here</span>
   0x0000000000400611 &lt;+186&gt;:	mov    rdx,QWORD PTR <span style=color:#f92672>[</span>rbp-0x8<span style=color:#f92672>]</span>
...
End of assembler dump.
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> break *0x40060c
Breakpoint <span style=color:#ae81ff>1</span> at 0x40060c: file basic2.c, line 25.
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> r
Starting program: /tmp/basic2
0x7fffffffe3c0

Breakpoint 1, main <span style=color:#f92672>()</span> at basic2.c:25
25	    <span style=color:#66d9ef>return</span> 0;
</code></pre></div><p>As seen in the program output after running <code>r</code>, <code>m</code> is stored in <code>0x7fffffffe3c0</code>.</p><h2 id=info-reg>info reg<a href=#info-reg class=hanchor arialabel=Anchor>&#8983;</a></h2><p>This command prints the names and values of all registers, except floating-point and vector registers (like <code>st</code>, <code>xmm</code>, <code>ymm</code>).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> info registers
rax            0xf	<span style=color:#ae81ff>15</span>
rbx            0x0	<span style=color:#ae81ff>0</span>
rcx            0x0	<span style=color:#ae81ff>0</span>
rdx            0x0	<span style=color:#ae81ff>0</span>
rsi            0x602260	<span style=color:#ae81ff>6300256</span>
rdi            0x1	<span style=color:#ae81ff>1</span>
rbp            0x7fffffffe400	0x7fffffffe400
rsp            0x7fffffffe3c0	0x7fffffffe3c0
r8             0x0	<span style=color:#ae81ff>0</span>
r9             0x0	<span style=color:#ae81ff>0</span>
r10            0x602010	<span style=color:#ae81ff>6299664</span>
r11            0x246	<span style=color:#ae81ff>582</span>
r12            0x400470	<span style=color:#ae81ff>4195440</span>
r13            0x7fffffffe4e0	<span style=color:#ae81ff>140737488348384</span>
r14            0x0	<span style=color:#ae81ff>0</span>
r15            0x0	<span style=color:#ae81ff>0</span>
rip            0x40060c	0x40060c &lt;main+181&gt;
eflags         0x206	<span style=color:#f92672>[</span> PF IF <span style=color:#f92672>]</span>
cs             0x33	<span style=color:#ae81ff>51</span>
ss             0x2b	<span style=color:#ae81ff>43</span>
ds             0x0	<span style=color:#ae81ff>0</span>
es             0x0	<span style=color:#ae81ff>0</span>
fs             0x0	<span style=color:#ae81ff>0</span>
gs             0x0	<span style=color:#ae81ff>0</span>
</code></pre></div><p>To print <strong>every</strong> register, call <code>info all-reg</code>. However, it is not very practical to do so.</p><div class=collapsable-code><input id=2 type=checkbox checked>
<label for=2><span class=collapsable-code__language>gdb</span>
<span class=collapsable-code__title>info-all-reg</span>
<span class=collapsable-code__toggle data-label-expand=Show data-label-collapse=Hide></span></label><pre class=language-gdb><code>
(gdb) info all-reg
rax            0xf	15
rbx            0x0	0
rcx            0x0	0
rdx            0x0	0
rsi            0x602260	6300256
rdi            0x1	1
rbp            0x7fffffffe400	0x7fffffffe400
rsp            0x7fffffffe3c0	0x7fffffffe3c0
r8             0x0	0
r9             0x0	0
r10            0x602010	6299664
r11            0x246	582
r12            0x400470	4195440
r13            0x7fffffffe4e0	140737488348384
r14            0x0	0
r15            0x0	0
rip            0x40060c	0x40060c &lt;main&#43;181&gt;
eflags         0x206	[ PF IF ]
cs             0x33	51
ss             0x2b	43
ds             0x0	0
es             0x0	0
fs             0x0	0
gs             0x0	0
st0            0	(raw 0x00000000000000000000)
st1            0	(raw 0x00000000000000000000)
st2            0	(raw 0x00000000000000000000)
st3            0	(raw 0x00000000000000000000)
st4            0	(raw 0x00000000000000000000)
st5            0	(raw 0x00000000000000000000)
st6            0	(raw 0x00000000000000000000)
st7            0	(raw 0x00000000000000000000)
fctrl          0x37f	895
fstat          0x0	0
ftag           0xffff	65535
fiseg          0x0	0
fioff          0x0	0
foseg          0x0	0
fooff          0x0	0
fop            0x0	0
mxcsr          0x1f80	[ IM DM ZM OM UM PM ]
ymm0           {v8_float = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, v4_double = {0x0, 0x0, 0x0, 0x0}, v32_int8 = {0x25 &lt;repeats 16 times&gt;, 0x0 &lt;repeats 16 times&gt;},
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
</code></pre></div><h2 id=pformat-print>p/[format] (print)<a href=#pformat-print class=hanchor arialabel=Anchor>&#8983;</a></h2><p>This command can be used to print values in different representations, register contents, or evaluate arithmetic expressions.</p><h3 id=p-value>p &lt;value><a href=#p-value class=hanchor arialabel=Anchor>&#8983;</a></h3><p>By default, the given value is printed in its decimal form.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> p 0x1337
$1 <span style=color:#f92672>=</span> <span style=color:#ae81ff>4919</span>
</code></pre></div><p><code>p</code> can be given the following format modifiers, to print the value in different representations:</p><ul><li><code>p/t</code> binary</li><li><code>p/o</code> octal</li><li><code>p/d</code> decimal</li><li><code>p/u</code> unsigned decimal</li><li><code>p/x</code> hex</li><li><code>p/c</code> char</li><li><code>p/f</code> float</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> p/t 0x41
$2 <span style=color:#f92672>=</span> <span style=color:#ae81ff>1000001</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> p/o 0x41
$3 <span style=color:#f92672>=</span> <span style=color:#ae81ff>0101</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> p/d 0x41
$4 <span style=color:#f92672>=</span> <span style=color:#ae81ff>65</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> p/x 0x41
$5 <span style=color:#f92672>=</span> 0x41
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> p/c 0x41
$6 <span style=color:#f92672>=</span> <span style=color:#ae81ff>65</span> <span style=color:#e6db74>&#39;A&#39;</span>
</code></pre></div><h3 id=p-reg>p $&lt;reg><a href=#p-reg class=hanchor arialabel=Anchor>&#8983;</a></h3><p>This command prints individual registers. E.g. <code>p $rax</code> to print the value of the <code>rax</code> register.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> p $rax
$7 <span style=color:#f92672>=</span> <span style=color:#ae81ff>15</span>
</code></pre></div><p>Similarly, the various format modifiers above can be used.</p><h3 id=p-expression>p &lt;expression><a href=#p-expression class=hanchor arialabel=Anchor>&#8983;</a></h3><p>This command is also very handy for evaluating expressions right inside GDB.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> p/x <span style=color:#f92672>(</span>$rax*10+0x41<span style=color:#f92672>)</span><span style=color:#e6db74>&lt;&lt;1
</span><span style=color:#e6db74>$8 = 0x1</span>ae
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> p/x $8-0xe
$9 <span style=color:#f92672>=</span> 0x1a0
</code></pre></div><h3 id=p-symbol>p &lt;symbol><a href=#p-symbol class=hanchor arialabel=Anchor>&#8983;</a></h3><p>If the binary is not stripped, this command can print the location of a given symbol.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> p main
$10 <span style=color:#f92672>=</span> <span style=color:#f92672>{</span>int <span style=color:#f92672>()}</span> 0x400557 &lt;main&gt;
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> p free
$11 <span style=color:#f92672>=</span> <span style=color:#f92672>{</span>void <span style=color:#f92672>(</span>void *<span style=color:#f92672>)}</span> 0x7ffff7df0620 &lt;free&gt;
</code></pre></div><h2 id=xlengthsizeformat-examine>x/[length][size][format] (examine)<a href=#xlengthsizeformat-examine class=hanchor arialabel=Anchor>&#8983;</a></h2><p>This command displays the memory contents at a given address. More <strong>format</strong> modifiers are available:</p><ul><li><code>x/o</code> octal</li><li><code>x/x</code> hexadecimal</li><li><strong><code>x/d</code> decimal - default</strong></li><li><code>x/u</code> unsigned decimal</li><li><code>x/t</code> binary</li><li><code>x/f</code> floating point</li><li><code>x/a</code> address</li><li><code>x/c</code> char</li><li><code>x/s</code> string</li><li><code>x/i</code> instruction</li></ul><p>But this is usually not enough. The following size modifiers can be used to specify the <strong>size</strong> of the value in memory:</p><ul><li><code>x/b</code> byte</li><li><code>x/h</code> halfwords (2 bytes)</li><li><strong><code>x/w</code> words (4 bytes) - default</strong></li><li><code>x/g</code> giant words (8 bytes)</li></ul><p>Lastly, a <strong>length</strong> modifier can be used to specify the number of values to display. If not given, it is 1 by default.</p><p>These 3 modifiers can be combined together, e.g.</p><ul><li><code>x/4bx 0x7fffffffe3c0</code></li><li><code>x/2gd 0x7fffffffe3c8</code></li><li><code>x/s 0x7fffffffe3e0</code></li></ul><div class=collapsable-code><input id=3 type=checkbox checked>
<label for=3><span class=collapsable-code__language>c</span>
<span class=collapsable-code__title>my_struct</span>
<span class=collapsable-code__toggle data-label-expand=Show data-label-collapse=Hide></span></label><pre class=language-c><code>
// gcc -g basic.c -o basic -no-pie
#include &lt;stdio.h&gt;

typedef struct my_struct {
    char a;
    short b;
    int c;
    double d;
    char e[20];
    long long f;
} my_struct;

my_struct m = {
    .a = &#39;6&#39;,
    .b = 56,
    .c = 1337,
    .d = 3.1415,
    .e = {&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39; &#39;, &#39;f&#39;, &#39;r&#39;, &#39;i&#39;, &#39;e&#39;, &#39;n&#39;, &#39;d&#39;, &#39;\0&#39;},
    .f = 0x1337133713371337
};
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/c &amp;m.a
0x7fffffffe3c0:	<span style=color:#ae81ff>54</span> <span style=color:#e6db74>&#39;6&#39;</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/hd &amp;m.b
0x7fffffffe3c2:	<span style=color:#ae81ff>56</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/w &amp;m.c
0x7fffffffe3c4:	<span style=color:#ae81ff>1337</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/gf &amp;m.d
0x7fffffffe3c8:	3.1415000000000002
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/s &amp;m.e
0x7fffffffe3d0:	<span style=color:#e6db74>&#34;hello friend&#34;</span>
<span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/20bx &amp;m.e
0x7fffffffe3d0:	0x68	0x65	0x6c	0x6c	0x6f	0x20	0x66	0x72
0x7fffffffe3d8:	0x69	0x65	0x6e	0x64	0x00	0x00	0x00	0x00
0x7fffffffe3e0:	0x00	0x00	0x00	0x00
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/gx &amp;m.f
0x7fffffffe3e8:	0x1337133713371337
</code></pre></div><p>In the example above, it is convenient to directly reference the variable (<code>m</code>) and its elements (<code>m.a</code>, <code>m.b</code>). Remember to add <code>&</code> before the symbol (<code>&m.a</code>) because <code>x</code> is expecting an address.</p><p>However, this only works when the binary is compiled with debugging information (with the <code>-g</code> flag).</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>❯ gcc basic2.c -o basic2 -no-pie
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/c &amp;m.a
No symbol <span style=color:#e6db74>&#34;m&#34;</span> in current context.
</code></pre></div><p>Anyways, this is common in reverse engineering. Earlier, <code>printf</code> printed the address of <code>m</code> which is located at <code>0x7fffffffe3c0</code>. We can call <code>x</code> on this address instead. However, it is more troublesome now to access each element in the struct, as we need to manually calculate the offset of each element.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/20wx 0x7fffffffe3c0
0x7fffffffe3c0:	0x00380036	0x00000539	0xc083126f	0x400921ca
0x7fffffffe3d0:	0x6c6c6568	0x7266206f	0x646e6569	0x00000000
0x7fffffffe3e0:	0x00000000	0x00000000	0x13371337	0x13371337
0x7fffffffe3f0:	0xffffe4e0	0x00007fff	0x7ec63500	0x104e20db
0x7fffffffe400:	0x00400630	0x00000000	0xf7a05b97	0x00007fff
</code></pre></div><p>In the example above, as I do not yet know the size of a struct, I chose a reasonably big number (20) of words to be displayed. I can see that the struct ends at <code>0x7fffffffe3ef</code> because it contains the last element of <code>m</code> (<code>0x1337133713371337</code>).</p><p>I can also identify the location of the other elements in the struct from the output above.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/c 0x7fffffffe3c0
0x7fffffffe3c0:	<span style=color:#ae81ff>54</span> <span style=color:#e6db74>&#39;6&#39;</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/hd 0x7fffffffe3c0+2
0x7fffffffe3c2:	<span style=color:#ae81ff>56</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/wd 0x7fffffffe3c0+4
0x7fffffffe3c4:	<span style=color:#ae81ff>1337</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/gf 0x7fffffffe3c0+8
0x7fffffffe3c8:	3.1415000000000002
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/s 0x7fffffffe3c0+16
0x7fffffffe3d0:	<span style=color:#e6db74>&#34;hello friend&#34;</span>
<span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/20bx 0x7fffffffe3c0+16
0x7fffffffe3d0:	0x68	0x65	0x6c	0x6c	0x6f	0x20	0x66	0x72
0x7fffffffe3d8:	0x69	0x65	0x6e	0x64	0x00	0x00	0x00	0x00
0x7fffffffe3e0:	0x00	0x00	0x00	0x00
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/gx 0x7fffffffe3c0+40
0x7fffffffe3e8:	0x1337133713371337
</code></pre></div><h2 id=set-typeaddressvalue>set *(&lt;type>*)(&lt;address>)=&lt;value><a href=#set-typeaddressvalue class=hanchor arialabel=Anchor>&#8983;</a></h2><p>This command modifies the contents of memory. The syntax might be daunting, but it is quite intuitive, same as C code for setting values of pointers.</p><ol><li>Cast <code>address</code> as <code>type*</code></li><li>Dereference <code>address</code></li><li>Set the value</li></ol><p>For example, <code>set *(char*)(0x7fffffffe3c0+16)=109</code>:</p><ol><li>Cast <code>0x7fffffffe3c0+16</code> as a <code>char*</code></li><li>Dereference <code>0x7fffffffe3c0+16</code> to point to a <code>char</code></li><li>Set the value of the <code>char</code> as <code>109</code></li></ol><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> set *<span style=color:#f92672>(</span>char*<span style=color:#f92672>)(</span>0x7fffffffe3c0+16<span style=color:#f92672>)=</span><span style=color:#e6db74>&#39;m&#39;</span>
<span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/s 0x7fffffffe3c0+16
0x7fffffffe3d0:	<span style=color:#e6db74>&#34;mello friend&#34;</span>
</code></pre></div><p>Without specifying a type, GDB defaults to <code>int</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> set *<span style=color:#f92672>(</span>0x7fffffffe3c0+4<span style=color:#f92672>)=</span>0xcafebeef
<span style=color:#f92672>(</span>gdb<span style=color:#f92672>)</span> x/12wx 0x7fffffffe3c0
0x7fffffffe3c0:	0x00380036	0xcafebeef	0xc083126f	0x400921ca
0x7fffffffe3d0:	0x6c6c6568	0x7266206f	0x646e6569	0x00000000
0x7fffffffe3e0:	0x0000006d	0x00000000	0x13371337	0x13371337
</code></pre></div></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/notes/basics/stepping/><span class=button__icon>←</span>
<span class=button__text>Stepping</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2021 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=/assets/main.js></script><script src=/assets/prism.js></script></div></body></html>